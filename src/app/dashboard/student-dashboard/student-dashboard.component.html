<div class="dashboard-container">
  <!-- Sidebar -->
  <aside class="sidebar" [ngClass]="{ 'collapsed': isSidebarCollapsed }">
    <div class="sidebar-logo">
      <img src="assets/images/Logo.jpg" alt="EMS Logo">
    </div>
    <ul class="sidebar-menu">
      <li *ngFor="let item of dashboardItems">
        <a [routerLink]="item.route" routerLinkActive="active">
          <i class="fas" [ngClass]="item.icon"></i> <span>{{ item.label }}</span>
        </a>
      </li>
    </ul>
  </aside>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Navbar -->
    <nav class="navbar">
      <button class="menu-toggle" (click)="toggleSidebar()">
        <i class="fas fa-bars"></i>
      </button>
      <h2 class="navbar-title">Student Dashboard</h2>
      
      <!-- Profile Section -->
      <div class="profile-container" (click)="toggleProfileDropdown($event)">
        <img src="assets/images/user.png" alt="Student Avatar">
        <span>{{ userName }}</span>
      </div>

      <!-- Profile Dropdown -->
      <div *ngIf="showProfileDropdown" class="profile-dropdown">
        <div class="profile-header">
          <img src="assets/images/user.png" alt="Profile Image">
          <h4>{{ userName }}</h4>
          <p>{{ userEmail }}</p>
          <p>{{ userCourse }}</p>
          <p>ID: {{ userId }}</p>
        </div>
        <ul>
          <li (click)="goToProfile()"><i class="fas fa-user"></i> Profile</li>
          <li (click)="forgotPassword()"><i class="fas fa-key"></i> Forgot Password</li>
          <li (click)="logout()"><i class="fas fa-sign-out-alt"></i> Logout</li>
        </ul>
      </div>
    </nav>

    <!-- Dashboard Icons -->
    <div class="dashboard-icons">
      <div class="icon-card" *ngFor="let item of dashboardItems" (click)="navigateTo(item.route)">
        <i class="fas" [ngClass]="item.icon"></i>
        <p>{{ item.label }}</p>
      </div>
    </div>

    <router-outlet></router-outlet>
  </div>
</div>
